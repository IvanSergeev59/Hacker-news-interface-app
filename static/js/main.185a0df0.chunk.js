(this["webpackJsonphacker-news-interface-app"]=this["webpackJsonphacker-news-interface-app"]||[]).push([[0],{45:function(e,t,n){},46:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),s=n(22),a=n.n(s),i=n(13),o=n(14),u=n(17),j=n(19),b=n.p+"static/media/logo.eb202774.jpg",d=n(11),h=n(1),p=function(){return Object(h.jsxs)("header",{className:"app-header",children:[Object(h.jsx)(d.b,{to:"/",children:Object(h.jsx)("img",{src:b})}),Object(h.jsx)("h1",{children:"\u0427\u0442\u043e \u0432 \u043c\u0438\u0440\u0435 \u0442\u0432\u043e\u0440\u0438\u0442\u0441\u044f?"}),Object(h.jsx)("p",{children:"\u041d\u0430\u0445\u043e\u0434\u0438\u0442\u0435 \u0441\u0430\u043c\u044b\u0435 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u043d\u043e\u0432\u043e\u0441\u0442\u0438, \u043f\u043e\u0441\u0432\u044f\u0449\u0435\u043d\u043d\u044b\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0442\u0438\u043a\u0435 \u0438 \u043f\u0440\u0435\u0434\u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0443, \u0430 \u0442\u0430\u043a\u0436\u0435, \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 \u043a \u043d\u0438\u043c!"})]})},f=n(15),m=n(49),l=n(16),O=function(){return Object(h.jsxs)("div",{className:"lds-ring",children:[Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{})]})},x=function(e){var t=e.news,n=e.addId,r=e.newsLoading,c=e.newsError,s=r&!c?t.map((function(e){return Object(h.jsx)("li",{children:Object(h.jsx)(m.a,{children:Object(h.jsxs)(m.a.Body,{children:[Object(h.jsx)(m.a.Title,{children:e.title}),Object(h.jsxs)(m.a.Text,{children:["Author: ",Object(h.jsx)("span",{children:e.by}),Object(h.jsx)("br",{}),"Rating: ",Object(h.jsx)("span",{children:e.score}),Object(h.jsx)("br",{}),"dated: ",Object(h.jsx)("span",{children:e.date})]}),Object(h.jsx)(d.b,{to:e.link,onClick:function(e){return n(e.target.name)},children:Object(h.jsx)(l.a,{name:e.id,variant:"primary",children:"More"})})]})})},e.id)})):Object(h.jsx)(O,{});return s=c?Object(h.jsx)("h3",{children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435"}):s},w=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.state,n=e.addId,r=t.freshNews,c=r.news,s=r.newsLoading,a=r.newsError;return Object(h.jsx)("div",{className:"news-list",children:Object(h.jsx)("ul",{className:"news-list_ul",children:Object(h.jsx)(x,{news:c,addId:n,newsLoading:s,newsError:a})})})}}]),n}(r.Component),v=Object(f.b)((function(e){return{state:e}}),(function(e){return{addId:function(t){return e(function(e){return{type:"ADD_NEWS_ID",payload:e}}(t))}}}))(w),N=n(3),y=c.a.createContext(),g=y.Provider,k=y.Consumer,S=function(){return function(e){return function(t){return Object(h.jsx)(k,{children:function(n){return Object(h.jsx)(e,Object(N.a)(Object(N.a)({},t),{},{hackerNewsService:n}))}})}}},_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}},C=_,I=function(e){return e.subcomment?e.subcomment.map((function(e){return Object(h.jsxs)("div",{className:"open-news__comments",children:[Object(h.jsxs)("p",{className:"open-subcomments-p",children:["Author: ",e.by]}),Object(h.jsx)("p",{className:"open-subcomments-p",dangerouslySetInnerHTML:{__html:e.text}})]},e.id)})):null},E=function(e){var t=e.comments,n=e.commentsLoading,r=e.fetchSubcomments,c=e.addSubcommentsId,s=function(){return t.map((function(e){return Object(h.jsxs)("div",{className:"open-news__comments",children:[Object(h.jsxs)("p",{className:"open-comments-p",children:["Author: ",e.by]}),Object(h.jsx)("p",{className:"open-comments-p",dangerouslySetInnerHTML:{__html:e.text}}),Object(h.jsx)(l.a,{className:e.button,name:e.id,onClick:function(t){return function(e,t){e.target.classList.add(".hidden"),c(e.target.name),r(t)}(t,e.subcommentsNums)},children:"open comments"}),Object(h.jsx)(I,{subcomment:e.subcomment})]},e.id)}))};return n?Object(h.jsx)(s,{}):Object(h.jsx)("h4",{children:"\u0418\u0434\u0451\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432"})},T=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.freshNews.newsId;e.fetchOpenedNews(t),setInterval((function(){e.fetchOpenedNews(t)}),6e4)}},{key:"render",value:function(){var e=this.props,t=this.props,n=t.fetchSubcomments,c=t.addSubcommentsId,s=e.freshNews,a=s.news,i=s.comments,o=s.commentsLoading,u=s.newsId,j=window.location.pathname.split("/open-news/").pop(),b=a.find((function(e){return e.id==j})),p=function(){return Object(h.jsxs)(r.Fragment,{children:[Object(h.jsx)(d.b,{to:"/",children:Object(h.jsx)(l.a,{children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439"})}),Object(h.jsxs)(m.a,{children:[Object(h.jsx)(m.a.Img,{variant:"top",src:b.item}),Object(h.jsxs)(m.a.Body,{children:[Object(h.jsx)(m.a.Title,{children:b.title}),Object(h.jsxs)(m.a.Text,{children:["Author: ",Object(h.jsx)("span",{children:b.by})]}),Object(h.jsx)(m.a.Text,{children:Object(h.jsx)("span",{children:b.text})}),Object(h.jsxs)(m.a.Text,{children:["Original: ",Object(h.jsx)("span",{children:b.url})]}),Object(h.jsxs)(m.a.Text,{children:["Raiting: ",Object(h.jsx)("span",{children:b.score})]})]})]})]})},f=function(){return o?Object(h.jsxs)(r.Fragment,{children:[Object(h.jsx)("h4",{className:"open-news__comments-h4",children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"}),Object(h.jsx)(l.a,{onClick:function(){e.fetchOpenedNews(u)},className:"open-news__comments-button",children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"}),Object(h.jsx)(E,{comments:i,commentsLoading:o,fetchSubcomments:n,addSubcommentsId:c})]}):Object(h.jsx)(O,{})};return Object(h.jsxs)("section",{className:"open-news",children:[Object(h.jsx)(p,{}),Object(h.jsx)(f,{})]})}}]),n}(r.Component),L=C(S(),Object(f.b)((function(e){return e}),(function(e,t){var n=t.hackerNewsService;return{fetchOpenedNews:function(t){return e(function(e,t){return function(){return function(n){e.getCommentsList(t).then((function(e){return n(function(e){return{type:"FETCH_COMMENTS",payload:e}}(e))})).catch((function(e){return console.log(e)}))}}}(n,t)())},addSubcommentsId:function(t){return e(function(e){return{type:"ADD_SUBCOMMENTS_ID",payload:e}}(t))},fetchSubcomments:function(t){return e(function(e,t){return function(){return function(n){e.getSubcommentsList(t).then((function(e){return n(function(e){return{type:"FETCH_SUBCOMMENTS",payload:e}}(e))})).catch((function(e){return console.log(e)}))}}}(n,t)())}}})))(T),M=n(2),D=n.p+"static/media/me.1ceab910.jpeg",B=function(){return Object(h.jsxs)("footer",{className:"footer",children:[Object(h.jsx)("img",{src:D}),Object(h.jsxs)("div",{className:"footer__description",children:[Object(h.jsx)("p",{children:"\u041f\u0440\u0438\u0432\u0435\u0442! \u041c\u0435\u043d\u044f \u0437\u043e\u0432\u0443\u0442 \u0418\u0432\u0430\u043d. \u042f \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a."}),Object(h.jsx)("p",{children:"\u0414\u0430\u043d\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u043c \u0437\u0430\u0434\u0430\u043d\u0438\u0435\u043c \u043e\u0442 Avito-tech."}),Object(h.jsx)("p",{children:'\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u043d\u043e\u0432\u043e\u0441\u0442\u0438 \u0441 \u043e\u0444\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0433\u043e API "Hacker News", \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0443\u043d\u0438\u0446\u0443 \u0441 \u0434\u043b\u044f \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u0437\u0430\u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043e\u0432\u0430\u0432\u0448\u0435\u0439 \u043d\u043e\u0432\u043e\u0441\u0442\u0438 \u0438 \u043e\u0437\u043d\u0430\u043a\u043e\u043c\u0438\u0442\u044c\u0441\u044f \u0441 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f\u043c\u0438 \u043a \u043d\u0435\u0439.'})]})]})},A=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.fetchNews(),setInterval((function(){e.props.fetchNews()}),6e4)}},{key:"render",value:function(){return Object(h.jsxs)(d.a,{children:[Object(h.jsx)(p,{}),Object(h.jsxs)(M.c,{children:[Object(h.jsx)(M.a,{path:"/hacker-news-interface-app/",element:Object(h.jsx)(v,{})}),Object(h.jsx)(M.a,{path:"/*",element:Object(h.jsx)(v,{})}),Object(h.jsx)(M.a,{path:"/open-news/",element:Object(h.jsx)(L,{})}),Object(h.jsx)(M.a,{path:"/open-news/*",element:Object(h.jsx)(L,{})})]}),Object(h.jsx)(B,{})]})}}]),n}(r.Component),F=C(S(),Object(f.b)((function(e){return e}),(function(e,t){var n=t.hackerNewsService;return{fetchNews:function(){return e(function(e){return function(){return function(t){e.getNewsList().then((function(e){return t(function(e){return{type:"FETCH_NEWS",payload:e}}(e))})).catch((function(e){return console.log(e)}))}}}(n)())}}})))(A),H=(n(45),n(46),n(20)),U=n(6),W=n.n(U),R=function(){function e(){var t=this;Object(i.a)(this,e),this.apiBase="https://hacker-news.firebaseio.com/v0",this.getNewsList=Object(H.a)(W.a.mark((function e(){var n,r,c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getNumbersOfFreshNews();case 2:n=e.sent,r=[],c=0;case 5:if(!(c<3)){e.next=11;break}return e.next=8,fetch("".concat(t.apiBase,"/item/").concat(n[c],".json?print=pretty")).then((function(e){return e.json()})).then((function(e){return r.push(e)})).catch();case 8:c++,e.next=5;break;case 11:return e.abrupt("return",r.map(t.transformNews));case 12:case"end":return e.stop()}}),e)}))),this.getCommentsList=function(){var e=Object(H.a)(W.a.mark((function e(n){var r,c,s,a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getNumbersOfComments(n);case 2:r=e.sent,c=r.kids,s=[],a=0;case 6:if(!(a<c.length)){e.next=12;break}return e.next=9,fetch("".concat(t.apiBase,"/item/").concat(c[a],".json?print=pretty")).then((function(e){return e.json()})).then((function(e){return s.push(e)})).catch();case 9:a++,e.next=6;break;case 12:return e.abrupt("return",s.map(t.transformComments));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getSubcommentsList=function(){var e=Object(H.a)(W.a.mark((function e(n){var r;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=7;break}return e.delegateYield(W.a.mark((function e(){var r,c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],c=0;case 2:if(!(c<n.length)){e.next=8;break}return e.next=5,fetch("".concat(t.apiBase,"/item/").concat(n[c],".json?print=pretty")).then((function(e){return e.json()})).then((function(e){return r.push(e)})).catch();case 5:c++,e.next=2;break;case 8:return e.abrupt("return",{v:r.map(t.transformComments)});case 9:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:if("object"!==typeof(r=e.t0)){e.next=5;break}return e.abrupt("return",r.v);case 5:e.next=8;break;case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.transformNews=function(e){var t=new Date(e.time);return{by:e.by,score:e.score,date:t.toString(),id:e.id,title:e.title,url:e.url,img:e.img,comments:e.kids,link:"/open-news/".concat(e.id)}},this.transformComments=function(e){return{text:e.text,by:e.by,id:e.id,subcommentsNums:e.kids,button:"",parentId:e.parent}}}return Object(o.a)(e,[{key:"getNumbersOfFreshNews",value:function(){var e=Object(H.a)(W.a.mark((function e(){var t;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.apiBase,"/topstories.json?print=pretty"));case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(this.apiBase)+" , received ".concat(t.status));case 5:return e.abrupt("return",t.json());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getNumbersOfComments",value:function(){var e=Object(H.a)(W.a.mark((function e(t){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.apiBase,"/item/").concat(t,".json?print=pretty"));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),J=R,P=n(32),Y=function(e,t){if(void 0===e)return{news:[],newsId:"",comments:[],commentsLoading:!0,newsLoading:!1,newsError:!1};switch(t.type){case"FETCH_NEWS":return Object(N.a)(Object(N.a)({},e.freshNews),{},{news:t.payload,newsLoading:!0});case"ADD_NEWS_ID":return Object(N.a)(Object(N.a)({},e.freshNews),{},{newsId:t.payload});case"FETCH_COMMENTS":return Object(N.a)(Object(N.a)({},e.freshNews),{},{comments:t.payload});case"ADD_SUBCOMMENTS_ID":return Object(N.a)(Object(N.a)({},e.freshNews),{},{subcommentsId:t.payload});case"FETCH_SUBCOMMENTS":var n=Object(N.a)({},e.freshNews),r=n.subcommentsId;return n.comments.map((function(e){r==e.id&&(t.payload&&(e.subcomment=Object(P.a)(t.payload)),e.button="hidden")})),Object(N.a)({},n);default:return e.freshNews}},q=function(e,t){return{freshNews:Y(e,t)}},z=n(26),G=n(31),K=Object(z.b)(q,Object(z.a)(G.a,(function(){return function(e){return function(t){return e("string"===typeof t?{type:t}:t)}}}),(function(e){e.getState;return function(e){return function(t){return e(t)}}}))),Q=new J;a.a.render(Object(h.jsx)(f.a,{store:K,children:Object(h.jsx)(g,{value:Q,children:Object(h.jsx)(F,{})})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.185a0df0.chunk.js.map